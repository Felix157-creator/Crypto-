<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoPro - Professional Crypto Trading Platform</title>
    <style>
        /* ===================== RESET & BASE ===================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===================== ANIMATIONS ===================== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes slideLeft {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        @keyframes slideInUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* ===================== LAYER SYSTEM ===================== */
        .layer {
            display: none;
            min-height: 100vh;
            animation: fadeIn 0.5s ease-out;
        }
        .layer.active { display: block; }

        /* ===================== WELCOME BONUS BANNER ===================== */
        .bonus-banner {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            animation: glow 2s infinite;
        }

        .bonus-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 3s infinite;
        }

        .bonus-banner h2 {
            font-size: 28px;
            color: #000;
            margin-bottom: 8px;
            font-weight: 900;
            position: relative;
            z-index: 1;
        }

        .bonus-banner p {
            font-size: 16px;
            color: rgba(0, 0, 0, 0.8);
            position: relative;
            z-index: 1;
        }

        .bonus-amount {
            font-size: 48px;
            font-weight: 900;
            color: #000;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.3);
            margin: 12px 0;
        }

        /* ===================== LIVE WINNERS TICKER ===================== */
        .winners-ticker {
            background: rgba(30, 41, 59, 0.95);
            padding: 16px 0;
            margin-bottom: 24px;
            overflow: hidden;
            border-radius: 12px;
            border: 2px solid rgba(0, 255, 136, 0.3);
        }

        .winners-ticker-title {
            text-align: center;
            color: #00ff88;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ticker-content {
            display: flex;
            animation: slideLeft 30s linear infinite;
            white-space: nowrap;
        }

        .winner-item {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 8px 24px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 20px;
            margin-right: 16px;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .winner-item .icon {
            font-size: 20px;
        }

        .winner-item .name {
            font-weight: 600;
            color: #fff;
        }

        .winner-item .amount {
            color: #00ff88;
            font-weight: 700;
        }

        /* ===================== NAVBAR ===================== */
        .navbar {
            background: rgba(30, 41, 59, 0.98);
            backdrop-filter: blur(10px);
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(0, 217, 255, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: 700;
            color: #00d9ff;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-login {
            background: transparent;
            color: #00d9ff;
            border: 2px solid #00d9ff;
        }

        .btn-signup {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
            border: none;
        }

        .btn-signup:hover, .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .hero {
            text-align: center;
            padding: 60px 20px 40px;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 24px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .hero h1 {
            font-size: 42px;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #00d9ff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-large {
            padding: 16px 32px;
            font-size: 18px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
        }

        .btn-secondary {
            background: transparent;
            color: #00d9ff;
            border: 2px solid #00d9ff;
        }

        .btn-large:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 217, 255, 0.4);
        }

        .stats-grid {
            display: flex;
            justify-content: space-around;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 24px;
            flex-wrap: wrap;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .stat {
            text-align: center;
            margin: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #00d9ff;
        }

        .stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
        }

        .card {
            background: rgba(30, 41, 59, 0.95);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 24px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .section-title {
            color: #00d9ff;
            margin-bottom: 16px;
            font-size: 20px;
        }

        /* ===================== SIMPLE CRYPTO CARDS (Welcome Page) ===================== */
        .simple-crypto-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s;
            border: 1px solid rgba(0, 217, 255, 0.15);
        }

        .simple-crypto-card:hover {
            background: rgba(30, 41, 59, 0.9);
            transform: translateX(5px);
            border-color: rgba(0, 217, 255, 0.4);
        }

        .crypto-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .crypto-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }

        .crypto-name {
            font-weight: 600;
            font-size: 16px;
            color: #ffffff;
        }

        .crypto-price {
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
        }

        .asset-change {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        .positive {
            color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }

        .negative {
            color: #ff006e;
            background: rgba(255, 0, 110, 0.1);
        }

        /* ===================== TRADINGVIEW STYLE CHARTS (Dashboard Only) ===================== */
        .trading-card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(0, 217, 255, 0.2);
            transition: all 0.3s;
        }

        .trading-card:hover {
            border-color: #00d9ff;
            box-shadow: 0 4px 20px rgba(0, 217, 255, 0.2);
        }

        .trading-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .pair-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .price-info {
            text-align: right;
        }

        .current-price {
            font-size: 24px;
            font-weight: 900;
        }

        .price-change {
            font-size: 14px;
            margin-top: 4px;
        }

        /* TradingView-style Candlestick Chart */
        .tradingview-chart {
            position: relative;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .chart-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 16px;
        }

        .grid-line {
            height: 1px;
            background: rgba(255, 255, 255, 0.05);
            width: 100%;
        }

        .candlesticks {
            position: absolute;
            bottom: 16px;
            left: 16px;
            right: 16px;
            height: calc(100% - 32px);
            display: flex;
            align-items: flex-end;
            gap: 4px;
        }

        .candle {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }

        .candle-wick {
            width: 2px;
            background: rgba(255, 255, 255, 0.3);
        }

        .candle-body {
            width: 100%;
            border-radius: 2px;
            min-height: 8px;
        }

        .candle-bullish .candle-body {
            background: #00ff88;
            border: 1px solid #00cc6a;
        }

        .candle-bearish .candle-body {
            background: #ff006e;
            border: 1px solid #cc0055;
        }

        /* Volume Bars */
        .volume-bars {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 40px;
            margin-top: 8px;
        }

        .volume-bar {
            flex: 1;
            background: rgba(0, 217, 255, 0.3);
            border-radius: 2px;
            min-height: 4px;
        }

        /* Trade Actions */
        .trade-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 12px;
        }

        .quick-trade-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-buy {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
        }

        .btn-sell {
            background: linear-gradient(135deg, #ff006e, #cc0055);
            color: #fff;
        }

        .quick-trade-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        /* ===================== AUTH FORMS ===================== */
        .auth-container {
            max-width: 480px;
            margin: 80px auto;
            padding: 40px;
            background: rgba(30, 41, 59, 0.98);
            border-radius: 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .auth-logo {
            text-align: center;
            margin-bottom: 32px;
        }

        .auth-logo-icon {
            font-size: 60px;
            margin-bottom: 12px;
            animation: pulse 2s infinite;
        }

        .auth-logo-text {
            font-size: 32px;
            font-weight: 900;
            background: linear-gradient(135deg, #00d9ff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .auth-title {
            text-align: center;
            margin-bottom: 24px;
            font-size: 24px;
            color: #00d9ff;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            background: rgba(15, 23, 42, 0.8);
            color: #fff;
            font-size: 16px;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #00d9ff;
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .btn-submit {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 217, 255, 0.4);
        }

        .btn-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-divider {
            text-align: center;
            margin: 24px 0;
            position: relative;
        }

        .auth-divider::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 100%;
            height: 1px;
            background: rgba(255, 255, 255, 0.2);
        }

        .auth-divider span {
            background: rgba(30, 41, 59, 0.98);
            padding: 0 12px;
            position: relative;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }

        .auth-link {
            text-align: center;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        .auth-link a {
            color: #00d9ff;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
        }

        .auth-link a:hover {
            text-decoration: underline;
        }

        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .alert.show { display: block; }

        .alert-success {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            color: #00ff88;
        }

        .alert-error {
            background: rgba(255, 0, 110, 0.1);
            border: 1px solid rgba(255, 0, 110, 0.3);
            color: #ff006e;
        }

        .alert-warning {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: #fbbf24;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-group label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            margin-bottom: 0;
        }

        /* ===================== DASHBOARD ===================== */
        .dashboard-header {
            background: rgba(30, 41, 59, 0.98);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
            border: 1px solid rgba(0, 217, 255, 0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00d9ff, #a855f7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .account-toggle {
            display: flex;
            gap: 12px;
        }

        .toggle-btn {
            padding: 10px 20px;
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 8px;
            background: transparent;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .toggle-btn.active {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
            border-color: transparent;
        }

        .balance-display {
            background: linear-gradient(135deg, #00ff88, #00d9ff);
            padding: 32px;
            border-radius: 20px;
            margin-bottom: 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 255, 136, 0.3);
        }

        .balance-amount {
            font-size: 48px;
            font-weight: 900;
            color: #0a1628;
            margin-bottom: 8px;
        }

        .balance-label {
            color: rgba(10, 22, 40, 0.8);
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .action-btn {
            padding: 20px;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .btn-trade {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
        }

        .btn-bot {
            background: linear-gradient(135deg, #a855f7, #7c3aed);
            color: #fff;
        }

        .btn-deposit {
            background: linear-gradient(135deg, #00d9ff, #0099cc);
            color: #fff;
        }

        .btn-withdraw {
            background: linear-gradient(135deg, #ff006e, #cc0055);
            color: #fff;
        }

        .btn-logout {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            padding: 10px 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-logout:hover {
            background: rgba(255, 0, 110, 0.2);
            border-color: #ff006e;
        }

        /* ===================== MODAL ===================== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-radius: 24px;
            padding: 32px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 24px;
            color: #00ff88;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 24px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .payment-address {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            text-align: center;
        }

        .payment-address-text {
            font-size: 18px;
            font-weight: 700;
            color: #00ff88;
            word-break: break-all;
        }

        .warning-box {
            background: rgba(255, 0, 110, 0.1);
            border: 2px solid rgba(255, 0, 110, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
        }

        .warning-box strong {
            color: #ff006e;
            display: block;
            margin-bottom: 8px;
        }

        .info-box {
            background: rgba(0, 217, 255, 0.1);
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
        }

        .info-box strong {
            color: #00d9ff;
            display: block;
            margin-bottom: 8px;
        }

        .bot-card {
            background: rgba(15, 23, 42, 0.8);
            border: 2px solid rgba(100, 200, 255, 0.2);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .bot-card:hover {
            background: rgba(30, 41, 59, 0.9);
            border-color: #00d9ff;
            transform: translateY(-2px);
        }

        .bot-card.selected {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
        }

        /* ===================== HISTORY TABLE ===================== */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }

        .history-table th {
            background: rgba(0, 217, 255, 0.1);
            padding: 12px;
            text-align: left;
            font-size: 14px;
            font-weight: 600;
            color: #00d9ff;
            border-bottom: 2px solid rgba(0, 217, 255, 0.3);
        }

        .history-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
        }

        .history-table tr:hover {
            background: rgba(0, 217, 255, 0.05);
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-pending {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        .status-verified {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }

        .status-rejected {
            background: rgba(255, 0, 110, 0.2);
            color: #ff006e;
        }

        /* ===================== LIVE PANEL ===================== */
        #livePanel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background: rgba(30, 41, 59, 0.98);
            border: 2px solid rgba(0, 217, 255, 0.3);
            border-radius: 16px;
            padding: 20px;
            z-index: 998;
            overflow-y: auto;
            display: none;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
        }

        #livePanel.show {
            display: block;
            animation: slideInUp 0.5s ease-out;
        }

        .trade-item {
            background: rgba(15, 23, 42, 0.8);
            border-left: 3px solid;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            transition: all 0.3s;
        }

        .trade-item:hover {
            background: rgba(30, 41, 59, 0.9);
            transform: translateX(5px);
        }

        /* ===================== REFERRAL LANDING ===================== */
        .referral-landing {
            display: none;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }

        .referral-landing.active {
            display: flex;
        }

        .referral-content {
            max-width: 600px;
            text-align: center;
        }

        /* ===================== RESPONSIVE ===================== */
        @media (max-width: 768px) {
            .hero h1 { font-size: 28px; }
            .cta-buttons { flex-direction: column; }
            .dashboard-header { flex-direction: column; }
            .balance-amount { font-size: 36px; }
            #livePanel { width: calc(100% - 40px); bottom: 10px; right: 10px; }
            .nav-links { gap: 10px; }
            .nav-btn { padding: 8px 16px; font-size: 12px; }
            .tradingview-chart { height: 150px; }
            .action-grid { grid-template-columns: 1fr; }
            .auth-container { margin: 20px auto; padding: 24px; }
            .history-table { font-size: 12px; }
            .history-table th, .history-table td { padding: 8px; }
        }
    </style>
</head>
<body>

<!-- ===================== LAYER 1: REFERRAL LANDING ===================== -->
<div id="referralLanding" class="referral-landing">
    <div class="referral-content">
        <div style="font-size: 80px; margin-bottom: 20px; animation: pulse 2s infinite;">üéâ</div>
        <h1 style="font-size: 36px; margin-bottom: 16px; background: linear-gradient(135deg, #00d9ff, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Congratulations!
        </h1>
        <p style="font-size: 20px; margin-bottom: 24px; line-height: 1.6; color: rgba(255,255,255,0.9);">
            <strong id="referrerName" style="color: #00ff88;">Your friend</strong> has earned incredible profits using CryptoPro!
        </p>
        <div style="background: linear-gradient(135deg, #fbbf24, #f59e0b); padding: 32px; border-radius: 20px; margin-bottom: 32px;">
            <div style="font-size: 18px; color: #000; font-weight: 700; margin-bottom: 12px;">
                üéÅ SPECIAL REFERRAL BONUS üéÅ
            </div>
            <div style="font-size: 48px; font-weight: 900; color: #000; margin-bottom: 8px;">
                $500
            </div>
            <div style="font-size: 16px; color: rgba(0,0,0,0.8);">
                100% Withdrawable Welcome Bonus
            </div>
        </div>
        <p style="font-size: 18px; margin-bottom: 32px; line-height: 1.8; color: rgba(255,255,255,0.9);">
            ‚ú® Try your luck by registering now!<br>
            üí∞ Deposit to receive your 100% bonus<br>
            üöÄ Start earning profits immediately<br>
            üí∏ Withdraw your profits anytime
        </p>
        <button class="btn-large btn-primary" onclick="closeReferralLanding()" style="font-size: 20px; padding: 20px 40px;">
            üéØ CLAIM MY $500 BONUS NOW!
        </button>
        <div style="margin-top: 24px; font-size: 14px; opacity: 0.8;">
            Join 50,000+ successful traders earning daily!
        </div>
    </div>
</div>

<!-- ===================== LAYER 2: WELCOME/HOME ===================== -->
<div id="welcomeLayer" class="layer active">
    <nav class="navbar">
        <div class="logo" onclick="showLayer('welcomeLayer')">
            <span style="font-size: 28px;">üíé</span>
            <span>CryptoPro</span>
        </div>
        <div class="nav-links">
            <button class="nav-btn btn-login" onclick="showLayer('loginLayer')">Login</button>
            <button class="nav-btn btn-signup" onclick="showLayer('signupLayer')">Sign Up</button>
        </div>
    </nav>

    <div class="container">
        <!-- Welcome Bonus Banner -->
        <div class="bonus-banner">
            <h2>üéâ WELCOME BONUS üéâ</h2>
            <div class="bonus-amount">100% MATCH</div>
            <p><strong>Get 100% bonus on your first deposit!</strong><br>Deposit $100, Get $200 to trade!</p>
        </div>

        <!-- Live Winners Ticker -->
        <div class="winners-ticker">
            <div class="winners-ticker-title">üèÜ LIVE WINNERS - REAL-TIME PROFITS üèÜ</div>
            <div class="ticker-content" id="winnersTicker">
                <!-- Populated by JS -->
            </div>
        </div>

        <div class="hero">
            <h1>Professional Crypto Trading Platform</h1>
            <p>Join 50,000+ investors earning daily profits through AI-powered trading bots. Over $125M in profits paid to our community!</p>
            <div class="cta-buttons">
                <button class="btn-large btn-primary" onclick="showLayer('signupLayer')">üöÄ Start Trading Now</button>
                <button class="btn-large btn-secondary" onclick="showLayer('loginLayer')">üîê Login to Dashboard</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat">
                <div class="stat-value" id="statsUsers">50,123</div>
                <div class="stat-label">Active Traders</div>
            </div>
            <div class="stat">
                <div class="stat-value">$125.7M</div>
                <div class="stat-label">Total Profits</div>
            </div>
            <div class="stat">
                <div class="stat-value">10+</div>
                <div class="stat-label">Years Trusted</div>
            </div>
            <div class="stat">
                <div class="stat-value">98.5%</div>
                <div class="stat-label">Success Rate</div>
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">üìä Live Crypto Markets</h2>
            <div id="marketsContainer"></div>
        </div>
    </div>
</div>

<!-- ===================== LAYER 3: SIGN UP ===================== -->
<div id="signupLayer" class="layer">
    <div class="auth-container">
        <div class="auth-logo">
            <div class="auth-logo-icon">üíé</div>
            <div class="auth-logo-text">CryptoPro</div>
        </div>

        <h2 class="auth-title">Create Your Account</h2>

        <div id="signupAlert" class="alert"></div>

        <form id="signupForm" onsubmit="return false;">
            <div class="form-group">
                <label>Full Name *</label>
                <input type="text" id="signupName" placeholder="Enter your full name" required>
            </div>

            <div class="form-group">
                <label>Email Address *</label>
                <input type="email" id="signupEmail" placeholder="your@email.com" required>
            </div>

            <div class="form-group">
                <label>Phone Number *</label>
                <input type="tel" id="signupPhone" placeholder="+1 234 567 8900" required>
            </div>

            <div class="form-group">
                <label>Password *</label>
                <input type="password" id="signupPassword" placeholder="Create strong password (min 6 characters)" required>
            </div>

            <div class="form-group">
                <label>Confirm Password *</label>
                <input type="password" id="signupConfirm" placeholder="Re-enter password" required>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="signupTerms" required>
                <label for="signupTerms">I agree to Terms & Conditions *</label>
            </div>

            <button type="button" class="btn-submit" onclick="handleSignup()">üöÄ Create Account</button>
        </form>

        <div class="auth-divider">
            <span>Already have an account?</span>
        </div>

        <div class="auth-link">
            <a onclick="showLayer('loginLayer')">Login Here</a>
        </div>
    </div>
</div>

<!-- ===================== LAYER 4: LOGIN ===================== -->
<div id="loginLayer" class="layer">
    <div class="auth-container">
        <div class="auth-logo">
            <div class="auth-logo-icon">üíé</div>
            <div class="auth-logo-text">CryptoPro</div>
        </div>

        <h2 class="auth-title">Welcome Back</h2>

        <div id="loginAlert" class="alert"></div>

        <form id="loginForm" onsubmit="return false;">
            <div class="form-group">
                <label>Email Address</label>
                <input type="email" id="loginEmail" placeholder="your@email.com" required>
            </div>

            <div class="form-group">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="Enter your password" required>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="loginRemember">
                <label for="loginRemember">Remember me</label>
            </div>

            <button type="button" class="btn-submit" onclick="handleLogin()">üîê Login</button>
        </form>

        <div class="auth-divider">
            <span>Don't have an account?</span>
        </div>

        <div class="auth-link">
            <a onclick="showLayer('signupLayer')">Create Account</a>
        </div>

        <div class="auth-link" style="margin-top: 20px;">
            <a onclick="showLayer('welcomeLayer')" style="color: rgba(255,255,255,0.6);">‚Üê Back to Home</a>
        </div>
    </div>
</div>

<!-- ===================== LAYER 5: DASHBOARD ===================== -->
<div id="dashboardLayer" class="layer">
    <nav class="navbar">
        <div class="logo">
            <span style="font-size: 28px;">üíé</span>
            <span>CryptoPro</span>
        </div>
        <div class="nav-links">
            <button class="nav-btn" onclick="showLayer('portfolioLayer')" style="background: transparent; color: #00d9ff; border: 1px solid rgba(0,217,255,0.3);">üìä Portfolio</button>
            <button class="nav-btn" onclick="showLayer('settingsLayer')" style="background: transparent; color: #00d9ff; border: 1px solid rgba(0,217,255,0.3);">‚öôÔ∏è Settings</button>
            <button class="btn-logout" onclick="handleLogout()">Logout</button>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard-header">
            <div class="user-info">
                <div class="user-avatar">üë§</div>
                <div>
                    <div style="font-size: 16px; font-weight: 600;" id="userName">User</div>
                    <div style="font-size: 12px; opacity: 0.7;" id="userEmail">email@example.com</div>
                </div>
            </div>

            <div class="account-toggle">
                <button class="toggle-btn" id="demoBtn" onclick="switchAccount('demo')">üéÆ DEMO</button>
                <button class="toggle-btn active" id="realBtn" onclick="switchAccount('real')">üí∞ REAL</button>
            </div>
        </div>

        <div class="balance-display">
            <div class="balance-label">TOTAL PORTFOLIO VALUE</div>
            <div class="balance-amount" id="dashBalance">$0.00</div>
        </div>

        <div class="action-grid">
            <button class="action-btn btn-trade" onclick="showModal('tradeModal')">‚ö° TRADE NOW</button>
            <button class="action-btn btn-bot" onclick="showModal('botModal')">ü§ñ TRADING BOT</button>
            <button class="action-btn btn-deposit" onclick="showModal('depositModal')">üí∞ DEPOSIT</button>
            <button class="action-btn btn-withdraw" onclick="showModal('withdrawModal')">üí∏ WITHDRAW</button>
            <button class="action-btn" style="background: linear-gradient(135deg, #10b981, #059669); color: #fff;" onclick="showReferralModal()">üîó SHARE & EARN</button>
        </div>

        <div class="card">
            <h2 class="section-title">üìä Live Trading Charts</h2>
            <div id="dashMarkets"></div>
        </div>
    </div>
</div>

<!-- ===================== LAYER 6: PORTFOLIO/HISTORY ===================== -->
<div id="portfolioLayer" class="layer">
    <nav class="navbar">
        <div class="logo" onclick="showLayer('dashboardLayer')">
            <span style="font-size: 28px;">üíé</span>
            <span>CryptoPro</span>
        </div>
        <button class="btn-logout" onclick="showLayer('dashboardLayer')">‚Üê Back to Dashboard</button>
    </nav>

    <div class="container">
        <div class="card">
            <h2 class="section-title">üìä Portfolio Overview</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px;">
                <div style="background: rgba(0,255,136,0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(0,255,136,0.3);">
                    <div style="font-size: 14px; opacity: 0.8; margin-bottom: 8px;">Total Deposited</div>
                    <div style="font-size: 24px; font-weight: 700; color: #00ff88;" id="portfolioDeposited">$0.00</div>
                </div>
                <div style="background: rgba(0,217,255,0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(0,217,255,0.3);">
                    <div style="font-size: 14px; opacity: 0.8; margin-bottom: 8px;">Current Balance</div>
                    <div style="font-size: 24px; font-weight: 700; color: #00d9ff;" id="portfolioBalance">$0.00</div>
                </div>
                <div style="background: rgba(251,191,36,0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(251,191,36,0.3);">
                    <div style="font-size: 14px; opacity: 0.8; margin-bottom: 8px;">Total Profit</div>
                    <div style="font-size: 24px; font-weight: 700; color: #fbbf24;" id="portfolioProfit">$0.00</div>
                </div>
            </div>

            <h3 style="color: #00d9ff; margin: 24px 0 16px;">üìù Transaction History</h3>
            <div style="overflow-x: auto;">
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Date</th>
                            <th>Reference</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody">
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; opacity: 0.5;">No transactions yet</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card">
            <h3 style="color: #00d9ff; margin-bottom: 16px;">ü§ñ Bot Trading History</h3>
            <div id="botHistoryContainer">
                <div style="text-align: center; padding: 40px; opacity: 0.5;">No bot trades yet. Activate a trading bot to get started!</div>
            </div>
        </div>
    </div>
</div>

<!-- ===================== LAYER 7: SETTINGS/PROFILE ===================== -->
<div id="settingsLayer" class="layer">
    <nav class="navbar">
        <div class="logo" onclick="showLayer('dashboardLayer')">
            <span style="font-size: 28px;">üíé</span>
            <span>CryptoPro</span>
        </div>
        <button class="btn-logout" onclick="showLayer('dashboardLayer')">‚Üê Back to Dashboard</button>
    </nav>

    <div class="container">
        <div class="card">
            <h2 class="section-title">üë§ Profile Settings</h2>
            
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="settingsName" readonly style="opacity: 0.7;">
            </div>

            <div class="form-group">
                <label>Email Address</label>
                <input type="email" id="settingsEmail" readonly style="opacity: 0.7;">
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" id="settingsPhone" readonly style="opacity: 0.7;">
            </div>

            <div class="form-group">
                <label>Member Since</label>
                <input type="text" id="settingsMemberSince" readonly style="opacity: 0.7;">
            </div>
        </div>

        <div class="card">
            <h2 class="section-title">üîó Referral Program</h2>
            
            <div class="info-box">
                <strong>üì¢ Share & Earn</strong>
                <div style="font-size: 14px; line-height: 1.6;">
                    Share your referral link with friends and earn bonuses when they join and start trading!
                </div>
            </div>

            <div class="form-group">
                <label>Your Referral Link</label>
                <input type="text" id="settingsReferralLink" readonly style="opacity: 0.9;">
            </div>

            <button class="btn-submit" onclick="copyReferralLink()">üìã Copy Referral Link</button>
        </div>

        <div class="card">
            <h2 class="section-title">üîí Security</h2>
            
            <div class="warning-box">
                <strong>‚ö†Ô∏è Account Security</strong>
                <div style="font-size: 14px; line-height: 1.6;">
                    ‚Ä¢ Never share your password with anyone<br>
                    ‚Ä¢ Enable two-factor authentication for extra security<br>
                    ‚Ä¢ Use a strong, unique password<br>
                    ‚Ä¢ Log out from shared devices
                </div>
            </div>

            <button class="btn-submit" style="background: linear-gradient(135deg, #ff006e, #cc0055);" onclick="alert('Password change feature coming soon!')">üîê Change Password</button>
        </div>
    </div>
</div>

<!-- ===================== MODALS ===================== -->

<!-- Deposit Modal -->
<div id="depositModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üí∞ Deposit Funds</h2>
            <button class="close-btn" onclick="closeModal('depositModal')">√ó</button>
        </div>

        <div style="background: rgba(251, 191, 36, 0.1); border: 2px solid rgba(251, 191, 36, 0.3); border-radius: 12px; padding: 16px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 24px; font-weight: 900; color: #fbbf24; margin-bottom: 8px;">üéâ 100% WELCOME BONUS!</div>
            <div style="font-size: 14px; color: rgba(255, 255, 255, 0.9);">First deposit gets 100% match! Deposit $100, get $200 to trade!</div>
        </div>

        <div class="form-group">
            <label>Amount (USD) *</label>
            <input type="number" id="depositAmount" min="10" placeholder="Minimum $10" required>
        </div>

        <div class="form-group">
            <label>Payment Method *</label>
            <select id="depositMethod">
                <option>ü™ô Cryptocurrency</option>
                <option>üì± M-Pesa</option>
                <option>üí≥ Credit/Debit Card</option>
                <option>üè¶ Bank Transfer</option>
            </select>
        </div>

        <div class="payment-address">
            <div style="font-size: 14px; margin-bottom: 8px;">Send Payment To:</div>
            <div class="payment-address-text">CryptoPro-Trading.com</div>
            <div style="font-size: 12px; margin-top: 8px; opacity: 0.7;" id="paymentID">Payment ID: CPT-XXXXX</div>
        </div>

        <div class="warning-box">
            <strong>‚ö†Ô∏è CRITICAL - READ BEFORE PROCEEDING:</strong>
            <div style="font-size: 13px; line-height: 1.6;">
                <strong>PAYMENT VERIFICATION PROCESS:</strong><br><br>
                
                ‚úÖ <strong>STEP 1:</strong> Complete your payment using the details above<br>
                ‚úÖ <strong>STEP 2:</strong> Save your transaction reference/ID<br>
                ‚úÖ <strong>STEP 3:</strong> Enter the transaction reference below<br>
                ‚úÖ <strong>STEP 4:</strong> Submit for verification<br><br>
                
                <strong style="color: #ff006e;">‚ö†Ô∏è IMPORTANT WARNINGS:</strong><br>
                ‚Ä¢ Funds appear ONLY after payment verification (1-10 minutes)<br>
                ‚Ä¢ DO NOT click submit without completing payment<br>
                ‚Ä¢ False submissions may result in account suspension<br>
                ‚Ä¢ You MUST provide a valid transaction reference<br>
                ‚Ä¢ Keep your payment proof until funds are credited
            </div>
        </div>

        <div class="form-group">
            <label>Transaction Reference/ID * (REQUIRED)</label>
            <input type="text" id="depositRef" placeholder="Enter your payment transaction ID/reference" required>
            <div style="font-size: 12px; margin-top: 4px; opacity: 0.7;">This is essential for verifying your payment</div>
        </div>

        <div class="form-group">
            <label>Payment Proof (Optional)</label>
            <textarea id="depositProof" rows="3" placeholder="Paste payment screenshot link or describe your payment..."></textarea>
        </div>

        <div class="info-box">
            <strong>‚ÑπÔ∏è VERIFICATION TIMELINE:</strong>
            <div style="font-size: 13px; line-height: 1.6;">
                ‚Ä¢ Automatic verification: 1-10 minutes<br>
                ‚Ä¢ You'll receive a notification when verified<br>
                ‚Ä¢ Funds will be credited automatically<br>
                ‚Ä¢ You can trade with Demo account while waiting
            </div>
        </div>

        <button class="btn-submit" onclick="processDeposit()">‚ö° SUBMIT FOR VERIFICATION</button>
        
        <div style="text-align: center; margin-top: 16px; font-size: 12px; opacity: 0.7;">
            By submitting, you confirm that you have completed the payment
        </div>
    </div>
</div>

<!-- Withdraw Modal -->
<div id="withdrawModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üí∏ Withdraw Funds</h2>
            <button class="close-btn" onclick="closeModal('withdrawModal')">√ó</button>
        </div>

        <div class="info-box">
            <strong>‚ÑπÔ∏è Withdrawal Requirements:</strong>
            <div style="font-size: 13px; line-height: 1.6;">
                ‚Ä¢ Minimum withdrawal: $10<br>
                ‚Ä¢ Total deposits of $500+ required to unlock withdrawals<br>
                ‚Ä¢ Processing time: 1-24 hours<br>
                ‚Ä¢ All withdrawals are verified manually
            </div>
        </div>

        <div class="form-group">
            <label>Amount (USD)</label>
            <input type="number" id="withdrawAmount" min="10" placeholder="Minimum $10">
        </div>

        <div class="form-group">
            <label>Withdrawal Method</label>
            <select id="withdrawMethod">
                <option>üè¶ Bank Transfer</option>
                <option>ü™ô Cryptocurrency</option>
                <option>üì± M-Pesa</option>
            </select>
        </div>

        <div class="form-group">
            <label>Account Details</label>
            <input type="text" id="withdrawAccount" placeholder="Enter your bank account, wallet address, or phone number">
        </div>

        <button class="btn-submit" onclick="processWithdraw()">üí∏ REQUEST WITHDRAWAL</button>
    </div>
</div>

<!-- Trade Modal -->
<div id="tradeModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">üìä Execute Trade</h2>
            <button class="close-btn" onclick="closeModal('tradeModal')">√ó</button>
        </div>

        <div class="form-group">
            <label>Trading Pair</label>
            <select id="tradePair">
                <option>BTC/USDT</option>
                <option>ETH/USDT</option>
                <option>SOL/USDT</option>
                <option>BNB/USDT</option>
                <option>DOGE/USDT</option>
                <option>XAU/USDT</option>
            </select>
        </div>

        <div class="form-group">
            <label>Trade Type</label>
            <select id="tradeType">
                <option>üü¢ BUY (Long)</option>
                <option>üî¥ SELL (Short)</option>
            </select>
        </div>

        <div class="form-group">
            <label>Amount (USD)</label>
            <input type="number" id="tradeAmount" min="10" placeholder="Minimum $10">
        </div>

        <div class="info-box">
            <strong>‚ÑπÔ∏è Trading Information:</strong>
            <div style="font-size: 13px; line-height: 1.6;">
                ‚Ä¢ Minimum trade: $10<br>
                ‚Ä¢ Average success rate: 60-85%<br>
                ‚Ä¢ Typical profit range: 3-15% per trade<br>
                ‚Ä¢ Instant execution
            </div>
        </div>

        <button class="btn-submit" onclick="executeTrade()">‚ö° EXECUTE TRADE</button>
    </div>
</div>

<!-- Bot Modal -->
<div id="botModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">ü§ñ AI Trading Bots</h2>
            <button class="close-btn" onclick="closeModal('botModal')">√ó</button>
        </div>

        <div class="info-box">
            <strong>‚ÑπÔ∏è How Trading Bots Work:</strong>
            <div style="font-size: 13px; line-height: 1.6;">
                ‚Ä¢ Bots execute trades automatically 24/7<br>
                ‚Ä¢ Each bot has different risk/reward profiles<br>
                ‚Ä¢ Profits are added to your balance automatically<br>
                ‚Ä¢ You can stop the bot anytime
            </div>
        </div>

        <div id="botCards">
            <div class="bot-card" onclick="selectBot(this, 'conservative')">
                <div style="display: flex; gap: 16px; align-items: center;">
                    <div style="font-size: 36px;">üõ°Ô∏è</div>
                    <div style="flex: 1;">
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Conservative Bot</div>
                        <div style="font-size: 13px; opacity: 0.7;">65% win rate ‚Ä¢ $3-15 per trade</div>
                        <div style="font-size: 12px; color: #00ff88; margin-top: 4px;">‚úì Low Risk ‚Ä¢ Steady Growth</div>
                    </div>
                </div>
            </div>

            <div class="bot-card" onclick="selectBot(this, 'balanced')">
                <div style="display: flex; gap: 16px; align-items: center;">
                    <div style="font-size: 36px;">‚öñÔ∏è</div>
                    <div style="flex: 1;">
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Balanced Bot</div>
                        <div style="font-size: 13px; opacity: 0.7;">75% win rate ‚Ä¢ $10-35 per trade</div>
                        <div style="font-size: 12px; color: #00d9ff; margin-top: 4px;">‚úì Moderate Risk ‚Ä¢ Best Value</div>
                    </div>
                </div>
            </div>

            <div class="bot-card" onclick="selectBot(this, 'aggressive')">
                <div style="display: flex; gap: 16px; align-items: center;">
                    <div style="font-size: 36px;">üöÄ</div>
                    <div style="flex: 1;">
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Aggressive Bot</div>
                        <div style="font-size: 13px; opacity: 0.7;">85% win rate ‚Ä¢ $20-80 per trade</div>
                        <div style="font-size: 12px; color: #fbbf24; margin-top: 4px;">‚úì High Risk ‚Ä¢ Maximum Profits</div>
                    </div>
                </div>
            </div>

            <div class="bot-card" onclick="selectBot(this, 'expert')">
                <div style="display: flex; gap: 16px; align-items: center;">
                    <div style="font-size: 36px;">ü§ñ</div>
                    <div style="flex: 1;">
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 4px;">Expert AI Bot</div>
                        <div style="font-size: 13px; opacity: 0.7;">90% win rate ‚Ä¢ $30-120 per trade</div>
                        <div style="font-size: 12px; color: #a855f7; margin-top: 4px;">‚úì AI-Powered ‚Ä¢ Premium Strategy</div>
                    </div>
                </div>
            </div>
        </div>

        <button class="btn-submit" onclick="activateBot()" style="margin-top: 20px;">‚úÖ ACTIVATE SELECTED BOT</button>
    </div>
</div>

<!-- Live Trading Panel -->
<div id="livePanel">
    <h3 style="color: #00d9ff; font-size: 16px; margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
        <span style="width: 8px; height: 8px; background: #00ff88; border-radius: 50%; animation: pulse 2s infinite;"></span>
        LIVE BOT ACTIVITY
    </h3>
    <div style="background: rgba(0,255,136,0.1); border: 1px solid rgba(0,255,136,0.3); border-radius: 12px; padding: 12px; margin-bottom: 16px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; font-size: 12px;">
            <div>
                <div style="opacity: 0.7;">Total Trades</div>
                <div id="totalTrades" style="font-size: 18px; font-weight: 700; color: #00ff88;">0</div>
            </div>
            <div>
                <div style="opacity: 0.7;">Total Profit</div>
                <div id="totalProfit" style="font-size: 18px; font-weight: 700; color: #00ff88;">+$0.00</div>
            </div>
        </div>
    </div>
    <div id="tradesList"></div>
</div>

<script>
// ===================== CONFIGURATION =====================
const CONFIG = {
    MIN_DEPOSIT: 10,
    MIN_WITHDRAW: 10,
    MIN_WITHDRAW_TOTAL_DEPOSITS: 500,
    WELCOME_BONUS: 1.0, // 100% bonus
    PAYMENT_VERIFICATION_TIME: 120000, // 2 minutes in milliseconds
    BOT_TRADE_INTERVAL: 15000, // 15 seconds
    PRICE_UPDATE_INTERVAL: 3000, // 3 seconds
};

const REFERRAL_CONFIG = {
    bonusAmount: 500,
    landingPageEnabled: true
};

// ===================== STATE =====================
let currentUser = null;
let currentUserEmail = '';
let activeAccount = 'real';
let selectedBotType = null;
let robotTrades = [];
let totalRobotProfits = 0;
let botInterval = null;
let priceUpdateInterval = null;

// Crypto data with colors
let cryptoData = {
    'BTC/USDT': { price: 64250, change: 0, color: '#f7931a', icon: '‚Çø' },
    'ETH/USDT': { price: 3420, change: 0, color: '#627eea', icon: 'Œû' },
    'BNB/USDT': { price: 580, change: 0, color: '#f3ba2f', icon: 'BNB' },
    'SOL/USDT': { price: 145, change: 0, color: '#14f195', icon: 'SOL' },
    'DOGE/USDT': { price: 0.08, change: 0, color: '#c2a633', icon: '√ê' },
    'XAU/USDT': { price: 2045, change: 0, color: '#ffd700', icon: 'ü•á' }
};

// Winner names for ticker
const winnerNames = [
    'James M.', 'Sarah K.', 'Michael R.', 'Emily T.', 'David L.', 'Jessica P.',
    'Robert H.', 'Amanda W.', 'Christopher B.', 'Jennifer S.', 'Daniel C.', 'Ashley D.',
    'Matthew F.', 'Lisa G.', 'Andrew N.', 'Michelle V.', 'Joshua X.', 'Elizabeth Y.',
    'Kevin Z.', 'Patricia Q.', 'Brian J.', 'Linda U.', 'Steven I.', 'Barbara O.',
    'Richard A.', 'Susan E.', 'Thomas W.', 'Karen M.', 'Joseph R.', 'Nancy T.'
];

// ===================== UTILITY FUNCTIONS =====================
function showAlert(id, message, type) {
    const alert = document.getElementById(id);
    if (!alert) return;
    
    alert.textContent = message;
    alert.className = `alert alert-${type} show`;
    
    if (type === 'error' || type === 'warning') {
        setTimeout(() => {
            alert.classList.remove('show');
        }, 5000);
    }
}

function saveUser() {
    if (!currentUserEmail || !currentUser) return;
    const users = JSON.parse(localStorage.getItem('cryptoProUsers') || '{}');
    users[currentUserEmail] = currentUser;
    localStorage.setItem('cryptoProUsers', JSON.stringify(users));
}

function showModal(id) {
    document.getElementById(id).classList.add('active');
}

function closeModal(id) {
    document.getElementById(id).classList.remove('active');
}

function showLayer(layerId) {
    document.querySelectorAll('.layer').forEach(layer => {
        layer.classList.remove('active');
    });
    document.getElementById('referralLanding').classList.remove('active');
    document.getElementById(layerId).classList.add('active');
    
    if (layerId === 'dashboardLayer') {
        updateDashboard();
        startLiveUpdates();
    } else if (layerId === 'portfolioLayer') {
        updatePortfolio();
    } else if (layerId === 'settingsLayer') {
        updateSettings();
    }
}

// ===================== REFERRAL SYSTEM =====================
function checkReferralLink() {
    const urlParams = new URLSearchParams(window.location.search);
    const ref = urlParams.get('ref');
    
    if (ref && REFERRAL_CONFIG.landingPageEnabled) {
        document.getElementById('referralLanding').classList.add('active');
        document.getElementById('welcomeLayer').classList.remove('active');
        
        try {
            const referrerName = atob(ref);
            document.getElementById('referrerName').textContent = referrerName;
        } catch(e) {
            document.getElementById('referrerName').textContent = 'A successful trader';
        }
        
        sessionStorage.setItem('referralCode', ref);
    }
}

function closeReferralLanding() {
    document.getElementById('referralLanding').classList.remove('active');
    showLayer('signupLayer');
}

function generateReferralLink() {
    if (!currentUser) return '';
    const referralCode = btoa(currentUser.name);
    const baseUrl = window.location.origin + window.location.pathname;
    return `${baseUrl}?ref=${referralCode}`;
}

function showReferralModal() {
    const link = generateReferralLink();
    const shareText = `üéâ Congratulations! I have earned profits using CryptoPro. Try your luck too by registering and depositing to receive a 100% withdrawable bonus of up to $500!\n\n${link}`;
    
    const message = `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì± YOUR REFERRAL LINK
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

${link}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üì¢ SHARE MESSAGE
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

${shareText}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚úÖ Link copied to clipboard!

Share this with friends to help them get started and earn rewards!`;

    if (navigator.clipboard) {
        navigator.clipboard.writeText(shareText).then(() => {
            alert(message);
        }).catch(() => {
            alert(message.replace('‚úÖ Link copied to clipboard!', 'üìã Copy the link above manually'));
        });
    } else {
        alert(message.replace('‚úÖ Link copied to clipboard!', 'üìã Copy the link above manually'));
    }
}

function copyReferralLink() {
    const link = generateReferralLink();
    const input = document.getElementById('settingsReferralLink');
    
    if (navigator.clipboard) {
        navigator.clipboard.writeText(link).then(() => {
            alert('‚úÖ Referral link copied to clipboard!');
        }).catch(() => {
            input.select();
            alert('üìã Please copy the link manually (Ctrl+C or Cmd+C)');
        });
    } else {
        input.select();
        alert('üìã Please copy the link manually (Ctrl+C or Cmd+C)');
    }
}

// ===================== WINNERS TICKER =====================
function generateWinnersTicker() {
    const ticker = document.getElementById('winnersTicker');
    if (!ticker) return;
    
    let html = '';
    for (let i = 0; i < 20; i++) {
        const name = winnerNames[Math.floor(Math.random() * winnerNames.length)];
        const amount = (Math.random() * 500 + 50).toFixed(2);
        const pairs = Object.keys(cryptoData);
        const pair = pairs[Math.floor(Math.random() * pairs.length)];
        
        html += `
            <div class="winner-item">
                <span class="icon">üéâ</span>
                <span class="name">${name}</span>
                <span>won</span>
                <span class="amount">+$${amount}</span>
                <span>on ${pair}</span>
            </div>
        `;
    }
    
    ticker.innerHTML = html + html; // Duplicate for seamless loop
}

// ===================== AUTH: SIGNUP =====================
function handleSignup() {
    const name = document.getElementById('signupName').value.trim();
    const email = document.getElementById('signupEmail').value.trim().toLowerCase();
    const phone = document.getElementById('signupPhone').value.trim();
    const password = document.getElementById('signupPassword').value;
    const confirm = document.getElementById('signupConfirm').value;
    const terms = document.getElementById('signupTerms').checked;
    
    // Enhanced validation
    if (!name || name.length < 2) {
        showAlert('signupAlert', '‚ùå Please enter a valid name (minimum 2 characters)', 'error');
        return;
    }
    
    // Email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email || !emailRegex.test(email)) {
        showAlert('signupAlert', '‚ùå Please enter a valid email address', 'error');
        return;
    }
    
    if (!phone || phone.length < 10) {
        showAlert('signupAlert', '‚ùå Please enter a valid phone number (minimum 10 digits)', 'error');
        return;
    }
    
    if (!password || password.length < 6) {
        showAlert('signupAlert', '‚ùå Password must be at least 6 characters long', 'error');
        return;
    }
    
    if (password !== confirm) {
        showAlert('signupAlert', '‚ùå Passwords do not match', 'error');
        return;
    }
    
    if (!terms) {
        showAlert('signupAlert', '‚ùå Please accept Terms & Conditions to continue', 'error');
        return;
    }
    
    const users = JSON.parse(localStorage.getItem('cryptoProUsers') || '{}');
    
    if (users[email]) {
        showAlert('signupAlert', '‚ùå Email already registered. Please login instead.', 'error');
        setTimeout(() => {
            showLayer('loginLayer');
            document.getElementById('loginEmail').value = email;
        }, 2000);
        return;
    }
    
    // Create new user with all required fields
    users[email] = {
        name: name,
        email: email,
        phone: phone,
        password: password,
        demoBalance: 10000,
        realBalance: 0,
        displayBalance: 0,
        totalDeposited: 0,
        robotTrades: [],
        totalRobotProfits: 0,
        selectedBot: 'none',
        receivedWelcomeBonus: false,
        pendingDeposits: [],
        transactions: [],
        createdAt: new Date().toISOString()
    };
    
    localStorage.setItem('cryptoProUsers', JSON.stringify(users));
    
    showAlert('signupAlert', '‚úÖ Account created successfully! Redirecting to login...', 'success');
    
    setTimeout(() => {
        document.getElementById('signupForm').reset();
        showLayer('loginLayer');
        showAlert('loginAlert', '‚úÖ Account created! Please login with your credentials.', 'success');
        document.getElementById('loginEmail').value = email;
    }, 2000);
}

// ===================== AUTH: LOGIN =====================
function handleLogin() {
    const email = document.getElementById('loginEmail').value.trim().toLowerCase();
    const password = document.getElementById('loginPassword').value;
    
    if (!email || !password) {
        showAlert('loginAlert', '‚ùå Please enter both email and password', 'error');
        return;
    }
    
    const users = JSON.parse(localStorage.getItem('cryptoProUsers') || '{}');
    
    if (!users[email]) {
        showAlert('loginAlert', '‚ùå Account not found. Please sign up first.', 'error');
        return;
    }
    
    if (users[email].password !== password) {
        showAlert('loginAlert', '‚ùå Incorrect password. Please try again.', 'error');
        return;
    }
    
    currentUser = users[email];
    currentUserEmail = email;
    robotTrades = currentUser.robotTrades || [];
    sessionStorage.setItem('loggedIn', 'true');
    sessionStorage.setItem('currentEmail', email);
    
    showAlert('loginAlert', '‚úÖ Login successful! Redirecting to dashboard...', 'success');
    
    setTimeout(() => {
        document.getElementById('loginForm').reset();
        showLayer('dashboardLayer');
        checkPendingDeposits();
        
        // Restart bot if it was active
        if (currentUser.selectedBot !== 'none') {
            startBotTrading();
        }
    }, 1500);
}

// ===================== AUTH: LOGOUT =====================
function handleLogout() {
    if (confirm('Are you sure you want to logout?')) {
        // Stop bot trading
        if (botInterval) {
            clearInterval(botInterval);
            botInterval = null;
        }
        
        sessionStorage.clear();
        currentUser = null;
        currentUserEmail = '';
        robotTrades = [];
        document.getElementById('livePanel').classList.remove('show');
        showLayer('welcomeLayer');
    }
}

// ===================== DASHBOARD =====================
function updateDashboard() {
    if (!currentUser) return;
    
    document.getElementById('userName').textContent = currentUser.name;
    document.getElementById('userEmail').textContent = currentUser.email;
    document.getElementById('paymentID').textContent = 'Payment ID: CPT-' + currentUserEmail.split('@')[0].toUpperCase();
    
    const balance = activeAccount === 'demo' ? currentUser.demoBalance : currentUser.displayBalance;
    document.getElementById('dashBalance').textContent = '$' + balance.toFixed(2);
    
    renderTradingCharts();
    
    if (currentUser.selectedBot !== 'none') {
        document.getElementById('livePanel').classList.add('show');
        updateLivePanel();
    }
}

function switchAccount(type) {
    activeAccount = type;
    document.getElementById('demoBtn').classList.toggle('active', type === 'demo');
    document.getElementById('realBtn').classList.toggle('active', type === 'real');
    updateDashboard();
}

// ===================== DEPOSIT WITH ENHANCED VERIFICATION =====================
function processDeposit() {
    const amount = parseFloat(document.getElementById('depositAmount').value);
    const ref = document.getElementById('depositRef').value.trim();
    const proof = document.getElementById('depositProof').value.trim();
    
    if (!amount || amount < CONFIG.MIN_DEPOSIT) {
        alert(`‚ùå INVALID AMOUNT\n\nMinimum deposit: $${CONFIG.MIN_DEPOSIT}\n\nPlease enter a valid amount.`);
        return;
    }
    
    if (!ref || ref.length < 5) {
        alert('‚ùå TRANSACTION REFERENCE REQUIRED!\n\n' +
              'You MUST provide a valid transaction reference/ID from your payment.\n\n' +
              'This is essential for verifying your payment.\n\n' +
              'Example references:\n' +
              '‚Ä¢ Bank transfer: TXN123456789\n' +
              '‚Ä¢ Crypto: 0x1234abcd...\n' +
              '‚Ä¢ M-Pesa: QA12B3C4D5');
        return;
    }
    
    // Strong confirmation that payment was made
    const confirmMessage = `‚ö†Ô∏è PAYMENT CONFIRMATION\n\n` +
        `Before proceeding, confirm:\n\n` +
        `‚úì I have COMPLETED the payment of $${amount.toFixed(2)}\n` +
        `‚úì I have a valid transaction reference: ${ref}\n` +
        `‚úì I understand funds appear after verification (1-10 min)\n` +
        `‚úì I understand false claims may result in account suspension\n\n` +
        `Click OK ONLY if ALL statements above are true.`;
    
    if (!confirm(confirmMessage)) {
        alert('‚ùå DEPOSIT CANCELLED\n\n' +
              'Please complete your payment first:\n\n' +
              '1. Send $' + amount.toFixed(2) + ' to: CryptoPro-Trading.com\n' +
              '2. Save your transaction reference\n' +
              '3. Return here and enter the reference\n' +
              '4. Submit for verification\n\n' +
              'Need help? Contact support.');
        return;
    }
    
    // Add to pending deposits with verification status
    const deposit = {
        id: 'DEP-' + Date.now().toString(),
        amount: amount,
        reference: ref,
        proof: proof,
        timestamp: new Date().toISOString(),
        verificationTime: new Date(Date.now() + CONFIG.PAYMENT_VERIFICATION_TIME).toISOString(),
        status: 'pending_verification',
        type: 'deposit'
    };
    
    if (!currentUser.pendingDeposits) {
        currentUser.pendingDeposits = [];
    }
    if (!currentUser.transactions) {
        currentUser.transactions = [];
    }
    
    currentUser.pendingDeposits.push(deposit);
    currentUser.transactions.push(deposit);
    
    saveUser();
    closeModal('depositModal');
    
    // Clear form
    document.getElementById('depositAmount').value = '';
    document.getElementById('depositRef').value = '';
    document.getElementById('depositProof').value = '';
    
    const verificationMinutes = Math.ceil(CONFIG.PAYMENT_VERIFICATION_TIME / 60000);
    
    alert(`‚úÖ DEPOSIT SUBMITTED FOR VERIFICATION\n\n` +
          `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
          `Deposit ID: ${deposit.id}\n` +
          `Amount: $${amount.toFixed(2)}\n` +
          `Reference: ${ref}\n` +
          `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n` +
          `‚è±Ô∏è STATUS: PENDING VERIFICATION\n\n` +
          `Your payment is being verified.\n` +
          `Typical verification time: ${verificationMinutes} minutes\n\n` +
          `‚úì You'll receive a notification when verified\n` +
          `‚úì Funds will be credited automatically\n` +
          `‚úì You can trade with Demo account while waiting\n\n` +
          `üìû Need help? Contact support with your Deposit ID.`);
    
    // Schedule automatic verification check
    setTimeout(() => {
        verifyDeposit(deposit.id);
    }, CONFIG.PAYMENT_VERIFICATION_TIME);
}

function checkPendingDeposits() {
    if (!currentUser || !currentUser.pendingDeposits || currentUser.pendingDeposits.length === 0) return;
    
    currentUser.pendingDeposits.forEach(deposit => {
        if (deposit.status === 'pending_verification') {
            const timePassed = Date.now() - new Date(deposit.timestamp).getTime();
            if (timePassed >= CONFIG.PAYMENT_VERIFICATION_TIME) {
                verifyDeposit(deposit.id);
            }
        }
    });
}

function verifyDeposit(depositId) {
    const deposit = currentUser.pendingDeposits.find(d => d.id === depositId);
    if (!deposit || deposit.status !== 'pending_verification') return;
    
    let bonusAmount = 0;
    if (!currentUser.receivedWelcomeBonus) {
        bonusAmount = deposit.amount * CONFIG.WELCOME_BONUS;
        currentUser.receivedWelcomeBonus = true;
    }
    
    const totalAmount = deposit.amount + bonusAmount;
    
    currentUser.displayBalance += totalAmount;
    currentUser.realBalance += totalAmount;
    currentUser.totalDeposited += deposit.amount;
    
    deposit.status = 'verified';
    
    // Update transaction record
    const transaction = currentUser.transactions.find(t => t.id === depositId);
    if (transaction) {
        transaction.status = 'verified';
        transaction.bonusAmount = bonusAmount;
        transaction.totalCredited = totalAmount;
    }
    
    saveUser();
    updateDashboard();
    
    if (sessionStorage.getItem('loggedIn')) {
        const message = bonusAmount > 0
            ? `üéâ DEPOSIT VERIFIED!\n\n` +
              `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
              `Deposit: $${deposit.amount.toFixed(2)}\n` +
              `üéÅ Welcome Bonus: +$${bonusAmount.toFixed(2)}\n` +
              `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
              `üí∞ Total Credited: $${totalAmount.toFixed(2)}\n` +
              `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n` +
              `‚úÖ Your funds are now available for trading!\n\n` +
              `Start earning profits with our AI trading bots!`
            : `‚úÖ DEPOSIT VERIFIED!\n\n` +
              `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
              `Amount: $${deposit.amount.toFixed(2)}\n` +
              `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n` +
              `‚úÖ Your funds are now available for trading!`;
        
        alert(message);
    }
}

// ===================== WITHDRAW =====================
function processWithdraw() {
    const amount = parseFloat(document.getElementById('withdrawAmount').value);
    const account = document.getElementById('withdrawAccount').value.trim();
    const method = document.getElementById('withdrawMethod').value;
    
    if (!amount || amount < CONFIG.MIN_WITHDRAW) {
        alert(`‚ùå INVALID AMOUNT\n\nMinimum withdrawal: $${CONFIG.MIN_WITHDRAW}`);
        return;
    }
    
    const balance = activeAccount === 'demo' ? currentUser.demoBalance : currentUser.displayBalance;
    
    if (amount > balance) {
        alert(`‚ùå INSUFFICIENT BALANCE\n\nRequested: $${amount.toFixed(2)}\nAvailable: $${balance.toFixed(2)}\n\nPlease enter a valid amount.`);
        return;
    }
    
    if (currentUser.totalDeposited < CONFIG.MIN_WITHDRAW_TOTAL_DEPOSITS) {
        const needed = CONFIG.MIN_WITHDRAW_TOTAL_DEPOSITS - currentUser.totalDeposited;
        alert(`‚ö†Ô∏è WITHDRAWAL REQUIREMENTS NOT MET\n\n` +
              `To unlock withdrawals, you need:\n\n` +
              `Required total deposits: $${CONFIG.MIN_WITHDRAW_TOTAL_DEPOSITS.toFixed(2)}\n` +
              `Your total deposits: $${currentUser.totalDeposited.toFixed(2)}\n` +
              `Still needed: $${needed.toFixed(2)}\n\n` +
              `Make more deposits to unlock withdrawal feature.`);
        return;
    }
    
    if (!account || account.length < 5) {
        alert('‚ùå ACCOUNT DETAILS REQUIRED\n\nPlease enter your:\n‚Ä¢ Bank account number\n‚Ä¢ Crypto wallet address\n‚Ä¢ M-Pesa number');
        return;
    }
    
    if (activeAccount === 'demo') {
        currentUser.demoBalance -= amount;
    } else {
        currentUser.displayBalance -= amount;
        currentUser.realBalance -= amount;
}
// Add to transactions
const withdrawal = {
    id: 'WTH-' + Date.now().toString(),
    type: 'withdrawal',
    amount: amount,
    method: method,
    account: account,
    timestamp: new Date().toISOString(),
    status: 'processing'
};

if (!currentUser.transactions) {
    currentUser.transactions = [];
}
currentUser.transactions.push(withdrawal);

saveUser();
updateDashboard();
closeModal('withdrawModal');

// Clear form
document.getElementById('withdrawAmount').value = '';
document.getElementById('withdrawAccount').value = '';

alert(`‚úÖ WITHDRAWAL REQUEST SUBMITTED\n\n` +
      `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
      `Withdrawal ID: ${withdrawal.id}\n` +
      `Amount: $${amount.toFixed(2)}\n` +
      `Method: ${method}\n` +
      `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n` +
      `‚è±Ô∏è Processing Time: 1-24 hours\n\n` +
      `You'll receive a confirmation once processed.\n\n` +
      `üìû Questions? Contact support with your Withdrawal ID.`);
}
// ===================== TRADE =====================
function executeTrade() {
const amount = parseFloat(document.getElementById('tradeAmount').value);
const pair = document.getElementById('tradePair').value;
const type = document.getElementById('tradeType').value;
if (!amount || amount < 10) {
    alert('‚ùå INVALID AMOUNT\n\nMinimum trade: $10');
    return;
}

const balance = activeAccount === 'demo' ? currentUser.demoBalance : currentUser.displayBalance;

if (amount > balance) {
    alert(`‚ùå INSUFFICIENT BALANCE\n\nTrade amount: $${amount.toFixed(2)}\nAvailable: $${balance.toFixed(2)}`);
    return;
}

const win = Math.random() < 0.6;
const profitPercent = Math.random() * 0.15; // 0-15%
const profit = amount * profitPercent * (win ? 1 : -1);

if (activeAccount === 'demo') {
    currentUser.demoBalance += profit;
} else {
    currentUser.displayBalance += profit;
    currentUser.realBalance += profit;
}

// Add to transactions
const trade = {
    id: 'TRD-' + Date.now().toString(),
    type: 'manual_trade',
    pair: pair,
    tradeType: type,
    amount: amount,
    profit: profit,
    timestamp: new Date().toISOString(),
    status: win ? 'won' : 'lost'
};

if (!currentUser.transactions) {
    currentUser.transactions = [];
}
currentUser.transactions.push(trade);

saveUser();
updateDashboard();
closeModal('tradeModal');

// Clear form
document.getElementById('tradeAmount').value = '';

const newBalance = balance + profit;
const profitSign = profit >= 0 ? '+' : '';
const emoji = win ? '‚úÖ' : '‚ùå';

alert(`${emoji} TRADE ${win ? 'WON' : 'LOST'}!\n\n` +
      `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
      `üìä Pair: ${pair}\n` +
      `üìà Type: ${type}\n` +
      `üí∞ Amount: $${amount.toFixed(2)}\n` +
      `üíµ P/L: ${profitSign}$${profit.toFixed(2)} (${profitSign}${(profitPercent * 100).toFixed(2)}%)\n` +
      `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n` +
      `üìÇ New Balance: $${newBalance.toFixed(2)}\n` +
      `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`);
}
function quickTrade(pair, type) {
document.getElementById('tradePair').value = pair;
document.getElementById('tradeType').value = type === 'buy' ? 'üü¢ BUY (Long)' : 'üî¥ SELL (Short)';
showModal('tradeModal');
}
// ===================== BOT TRADING =====================
function selectBot(element, type) {
selectedBotType = type;
document.querySelectorAll('.bot-card').forEach(card => {
card.classList.remove('selected');
});
element.classList.add('selected');
}
function activateBot() {
if (!selectedBotType) {
alert('‚ùå NO BOT SELECTED\n\nPlease select a trading bot first.');
return;
}
if (activeAccount !== 'real') {
    alert('‚ö†Ô∏è SWITCH TO REAL ACCOUNT\n\nTrading bots only work with Real account.\n\nPlease switch to Real account to activate the bot.');
    return;
}

const balance = currentUser.displayBalance;
if (balance < 50) {
    alert('‚ö†Ô∏è INSUFFICIENT BALANCE\n\nMinimum balance for bot trading: $50\n\nYour balance: $' + balance.toFixed(2) + '\n\nPlease deposit more funds to use trading bots.');
    return;
}

currentUser.selectedBot = selectedBotType;
saveUser();
closeModal('botModal');

document.getElementById('livePanel').classList.add('show');

const botNames = {
    conservative: 'Conservative',
    balanced: 'Balanced',
    aggressive: 'Aggressive',
    expert: 'Expert AI'
};

alert(`‚úÖ ${botNames[selectedBotType].toUpperCase()} BOT ACTIVATED!\n\n` +
      `The bot will start trading automatically.\n\n` +
      `üìä You can monitor live trades in the panel\n` +
      `üí∞ Profits are added to your balance automatically\n` +
      `‚è∏Ô∏è You can stop the bot anytime\n\n` +
      `Happy trading!`);

startBotTrading();
}
function startBotTrading() {
// Clear existing interval if any
if (botInterval) {
clearInterval(botInterval);
}
botInterval = setInterval(() => {
    if (!currentUser || currentUser.selectedBot === 'none' || activeAccount !== 'real') {
        if (botInterval) {
            clearInterval(botInterval);
            botInterval = null;
        }
        return;
    }
    
    const bots = {
        conservative: { min: 3, max: 15, rate: 0.65 },
        balanced: { min: 10, max: 35, rate: 0.75 },
        aggressive: { min: 20, max: 80, rate: 0.85 },
        expert: { min: 30, max: 120, rate: 0.90 }
    };
    
    const bot = bots[currentUser.selectedBot];
    const win = Math.random() < bot.rate;
    const profit = win ? (bot.min + Math.random() * (bot.max - bot.min)) : -(bot.min * 0.3);
    
    currentUser.displayBalance += profit;
    currentUser.realBalance += profit;
    currentUser.totalRobotProfits += profit;
    
    const pairs = Object.keys(cryptoData);
    const pair = pairs[Math.floor(Math.random() * pairs.length)];
    
    const trade = {
        pair: pair,
        profit: profit,
        time: new Date().toISOString(),
        botType: currentUser.selectedBot,
        status: win ? 'won' : 'lost'
    };
    
    robotTrades.unshift(trade);
    
    if (robotTrades.length > 50) {
        robotTrades = robotTrades.slice(0, 50);
    }
    
    currentUser.robotTrades = robotTrades;
    
    // Add to transactions
    if (!currentUser.transactions) {
        currentUser.transactions = [];
    }
    currentUser.transactions.push({
        id: 'BOT-' + Date.now().toString(),
        type: 'bot_trade',
        pair: pair,
        profit: profit,
        botType: currentUser.selectedBot,
        timestamp: trade.time,
        status: trade.status
    });
    
    saveUser();
    updateDashboard();
    updateLivePanel();
    
}, CONFIG.BOT_TRADE_INTERVAL);
}
function updateLivePanel() {
document.getElementById('totalTrades').textContent = robotTrades.length;
const profitEl = document.getElementById('totalProfit');
const totalProfit = currentUser.totalRobotProfits || 0;
profitEl.textContent = (totalProfit >= 0 ? '+' : '') + '$' + totalProfit.toFixed(2);
profitEl.style.color = totalProfit >= 0 ? '#00ff88' : '#ff006e';
const list = document.getElementById('tradesList');
list.innerHTML = robotTrades.slice(0, 10).map(trade => {
    const color = trade.profit > 0 ? '#00ff88' : '#ff006e';
    const data = cryptoData[trade.pair];
    return `
        <div class="trade-item" style="border-left-color: ${color};">
            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                <strong style="color: ${data ? data.color : '#00d9ff'};">${trade.pair}</strong>
                <span style="color: ${color}; font-weight: 700;">${trade.profit > 0 ? '+' : ''}$${trade.profit.toFixed(2)}</span>
            </div>
            <div style="font-size: 11px; opacity: 0.7; display: flex; justify-content: space-between;">
                <span>${trade.botType} bot</span>
                <span>${new Date(trade.time).toLocaleTimeString()}</span>
            </div>
        </div>
    `;
}).join('') || '<div style="text-align: center; padding: 20px; opacity: 0.5;">No trades yet</div>';
}
// ===================== MARKETS =====================
function renderSimpleMarkets() {
const container = document.getElementById('marketsContainer');
if (!container) return;
container.innerHTML = Object.keys(cryptoData).map(pair => {
    const data = cryptoData[pair];
    const change = data.change.toFixed(2);
    
    return `
        <div class="simple-crypto-card">
            <div class="crypto-info">
                <div class="crypto-icon" style="background: ${data.color};">
                    ${data.icon}
                </div>
                <div>
                    <div class="crypto-name">${pair}</div>
                </div>
            </div>
            <div style="text-align: right;">
                <div class="crypto-price">$${data.price.toFixed(data.price < 1 ? 4 : 2)}</div>
                <div class="asset-change ${change > 0 ? 'positive' : 'negative'}">${change > 0 ? '+' : ''}${change}%</div>
            </div>
        </div>
    `;
}).join('');
}
function renderTradingCharts() {
const container = document.getElementById('dashMarkets');
if (!container) return;
container.innerHTML = Object.keys(cryptoData).map(pair => {
    const data = cryptoData[pair];
    const change = data.change.toFixed(2);
    
    // Generate candlesticks
    const candles = Array.from({length: 20}, () => {
        const isBullish = Math.random() > 0.5;
        const bodyHeight = Math.random() * 60 + 20;
        const wickTop = Math.random() * 20;
        const wickBottom = Math.random() * 20;
        return { isBullish, bodyHeight, wickTop, wickBottom };
    });
    
    const candlesHTML = candles.map(candle => `
        <div class="candle ${candle.isBullish ? 'candle-bullish' : 'candle-bearish'}">
            <div class="candle-wick" style="height: ${candle.wickTop}px;"></div>
            <div class="candle-body" style="height: ${candle.bodyHeight}px;"></div>
            <div class="candle-wick" style="height: ${candle.wickBottom}px;"></div>
        </div>
    `).join('');
    
    // Generate volume bars
    const volumeBars = Array.from({length: 20}, () => Math.random() * 40 + 5);
    const volumeHTML = volumeBars.map(height => 
        `<div class="volume-bar" style="height: ${height}px;"></div>`
    ).join('');
    
    return `
        <div class="trading-card">
            <div class="trading-header">
                <div class="pair-info">
                    <div class="crypto-icon" style="background: ${data.color}; width: 36px; height: 36px; font-size: 18px;">
                        ${data.icon}
                    </div>
                    <div>
                        <div style="font-weight: 700; font-size: 18px;">${pair}</div>
                        <div style="font-size: 12px; opacity: 0.7;">24h Volume: $${(Math.random() * 1000 + 500).toFixed(0)}M</div>
                    </div>
                </div>
                <div class="price-info">
                    <div class="current-price" style="color: ${data.color};">$${data.price.toFixed(data.price < 1 ? 4 : 2)}</div>
                    <div class="price-change ${change > 0 ? 'positive' : 'negative'}">${change > 0 ? '+' : ''}${change}%</div>
                </div>
            </div>
            
            <div class="tradingview-chart">
                <div class="chart-grid">
                    <div class="grid-line"></div>
                    <div class="grid-line"></div>
                    <div class="grid-line"></div>
                    <div class="grid-line"></div>
                </div>
                <div class="candlesticks">
                    ${candlesHTML}
                </div>
            </div>
            
            <div class="volume-bars">
                ${volumeHTML}
            </div>
            
            <div class="trade-actions">
                <button class="quick-trade-btn btn-buy" onclick="quickTrade('${pair}', 'buy')">üü¢ BUY</button>
                <button class="quick-trade-btn btn-sell" onclick="quickTrade('${pair}', 'sell')">üî¥ SELL</button>
            </div>
        </div>
    `;
}).join('');
}
function startLiveUpdates() {
// Clear existing interval if any
if (priceUpdateInterval) {
clearInterval(priceUpdateInterval);
}
priceUpdateInterval = setInterval(() => {
    Object.keys(cryptoData).forEach(pair => {
        const changePercent = (Math.random() - 0.5) * 2; // -1% to +1%
        const changeAmount = cryptoData[pair].price * (changePercent / 100);
        cryptoData[pair].price = Math.max(cryptoData[pair].price + changeAmount, cryptoData[pair].price * 0.95);
        cryptoData[pair].change = ((Math.random() - 0.5) * 5);
    });
    
    renderTradingCharts();
    renderSimpleMarkets();
}, CONFIG.PRICE_UPDATE_INTERVAL);
}
// ===================== PORTFOLIO =====================
function updatePortfolio() {
if (!currentUser) return;
document.getElementById('portfolioDeposited').textContent = '$' + (currentUser.totalDeposited || 0).toFixed(2);
document.getElementById('portfolioBalance').textContent = '$' + (currentUser.displayBalance || 0).toFixed(2);

const profit = (currentUser.displayBalance || 0) - (currentUser.totalDeposited || 0);
const profitEl = document.getElementById('portfolioProfit');
profitEl.textContent = (profit >= 0 ? '+' : '') + '$' + profit.toFixed(2);
profitEl.style.color = profit >= 0 ? '#fbbf24' : '#ff006e';

// Update transaction history
const tbody = document.getElementById('historyTableBody');
const transactions = currentUser.transactions || [];

if (transactions.length === 0) {
    tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; opacity: 0.5;">No transactions yet</td></tr>';
} else {
    tbody.innerHTML = transactions.slice().reverse().slice(0, 20).map(t => {
        let statusClass = 'status-pending';
        let statusText = t.status;
        
        if (t.status === 'verified' || t.status === 'won') {
            statusClass = 'status-verified';
            statusText = t.status === 'verified' ? 'Verified' : 'Won';
        } else if (t.status === 'rejected' || t.status === 'lost') {
            statusClass = 'status-rejected';
            statusText = t.status === 'rejected' ? 'Rejected' : 'Lost';
        } else if (t.status === 'pending_verification') {
            statusText = 'Pending';
        } else if (t.status === 'processing') {
            statusText = 'Processing';
        }
        
        const amount = t.type === 'withdrawal' ? '-$' + t.amount.toFixed(2) : 
                      t.profit !== undefined ? (t.profit >= 0 ? '+' : '') + '$' + t.profit.toFixed(2) :
                      '+$' + t.amount.toFixed(2);
        
        const typeLabel = t.type === 'deposit' ? 'üí∞ Deposit' :
                        t.type === 'withdrawal' ? 'üí∏ Withdrawal' :
                        t.type === 'bot_trade' ? 'ü§ñ Bot Trade' :
                        t.type === 'manual_trade' ? 'üìä Manual Trade' : t.type;
        
        const date = new Date(t.timestamp).toLocaleString();
        const reference = t.reference || t.id || '-';
        
        return `
            <tr>
                <td>${typeLabel}</td>
                <td style="font-weight: 700; color: ${amount.startsWith('+') ? '#00ff88' : amount.startsWith('-') ? '#ff006e' : '#00d9ff'};">${amount}</td>
                <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                <td style="font-size: 12px;">${date}</td>
                <td style="font-size: 12px; opacity: 0.7;">${reference}</td>
            </tr>
        `;
    }).join('');
}

// Update bot history
const botContainer = document.getElementById('botHistoryContainer');
const botTrades = (currentUser.robotTrades || []).slice(0, 20);

if (botTrades.length === 0) {
    botContainer.innerHTML = '<div style="text-align: center; padding: 40px; opacity: 0.5;">No bot trades yet. Activate a trading bot to get started!</div>';
} else {
    botContainer.innerHTML = `
        <div style="overflow-x: auto;">
            <table class="history-table">
                <thead>
                    <tr>
                        <th>Pair</th>
                        <th>Profit</th>
                        <th>Bot Type</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    ${botTrades.map(t => {
                        const color = t.profit >= 0 ? '#00ff88' : '#ff006e';
                        return `
                            <tr>
                                <td style="font-weight: 600;">${t.pair}</td>
                                <td style="font-weight: 700; color: ${color};">${t.profit >= 0 ? '+' : ''}$${t.profit.toFixed(2)}</td>
                                <td>${t.botType}</td>
                                <td style="font-size: 12px;">${new Date(t.time).toLocaleString()}</td>
                            </tr>
                        `;
                    }).join('')}
                </tbody>
            </table>
        </div>
    `;
}
}
// ===================== SETTINGS =====================
function updateSettings() {
if (!currentUser) return;
document.getElementById('settingsName').value = currentUser.name;
document.getElementById('settingsEmail').value = currentUser.email;
document.getElementById('settingsPhone').value = currentUser.phone;

const memberSince = new Date(currentUser.createdAt).toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
});
document.getElementById('settingsMemberSince').value = memberSince;

const referralLink = generateReferralLink();
document.getElementById('settingsReferralLink').value = referralLink;
}
// ===================== INITIALIZATION =====================
window.addEventListener('DOMContentLoaded', function() {
console.log('‚úÖ CryptoPro Professional Trading Platform Loaded');
// Check for referral link first
checkReferralLink();

// Generate winners ticker
generateWinnersTicker();

// Render markets
renderSimpleMarkets();

// Start live price updates
startLiveUpdates();

// Check if user is already logged in
const loggedIn = sessionStorage.getItem('loggedIn');
const email = sessionStorage.getItem('currentEmail');

if (loggedIn && email) {
    const users = JSON.parse(localStorage.getItem('cryptoProUsers') || '{}');
    if (users[email]) {
        currentUser = users[email];
        currentUserEmail = email;
        robotTrades = currentUser.robotTrades || [];
        showLayer('dashboardLayer');
        checkPendingDeposits();
        
        if (currentUser.selectedBot !== 'none') {
            startBotTrading();
        }
    }
}
});
// Cleanup on page unload
window.addEventListener('beforeunload', function() {
if (botInterval) {
clearInterval(botInterval);
}
if (priceUpdateInterval) {
clearInterval(priceUpdateInterval);
}
});

ÔøΩ
```
